{"is_source_file": true, "format": "JavaScript", "description": "This script manages the startup and health monitoring of a development server, specifically Vite, for a frontend project. It checks if the port is in use, starts Vite if needed, monitors its readiness via port listening, and handles termination signals to ensure CI/CD pipeline stability.", "external_files": ["node:child_process", "node:net", "node:fs", "node:path"], "external_methods": ["spawn", "createServer", "existsSync", "resolve"], "published": ["start-dev"], "classes": [], "methods": [{"name": "checkPortInUse(p, h)", "description": "Checks if a specific port on a host is currently in use by attempting to bind a server to that port. Resolves true if port is in use, false otherwise.", "scope": "", "scopeKind": ""}, {"name": "waitForReady(p, h, timeoutMs = 30000)", "description": "Polls periodically to check if the specified port has an active listener, indicating that the server is ready. Resolves true if the port becomes busy within the timeout, false otherwise.", "scope": "", "scopeKind": ""}, {"name": "spawnVite(host, port)", "description": "Attempts to spawn a Vite development server, preferring local binaries if available, falling back to npx command.", "scope": "", "scopeKind": ""}], "calls": ["checkPortInUse", "waitForReady", "spawn", "existsSync"], "search-terms": ["start-dev", "Vite", "CI", "port check", "development server", "health monitoring", "port readiness", "CI container startup"], "state": 2, "file_id": 27, "knowledge_revision": 142, "git_revision": "3648f43a84332cb788b05ad7fbab73148321e713", "revision_history": [{"97": ""}, {"100": ""}, {"101": ""}, {"107": "a5860ed599e4c9df7c5bde91e748351222ed7470"}, {"108": "02bc6573d5eecd90eecc46fe19d98dec28b77140"}, {"109": "6fd0779e88af4c7e55c7a72a0f8ea82a6c12c7c3"}, {"111": "ecda846b64c85c706f268341acf375168f63be97"}, {"115": "90cd6462fe5042520cbf7bda07348fcdae927c31"}, {"116": "cde003dd2037d58531c2cdde37d4a8b127678a7e"}, {"118": "cde003dd2037d58531c2cdde37d4a8b127678a7e"}, {"125": "0e0829c2c17fe340cf3560521fcc6216fb1db369"}, {"126": "0e0829c2c17fe340cf3560521fcc6216fb1db369"}, {"128": "3de4a2871b7cf9c407e7783f66e53749f0cb1cf4"}, {"130": "29101fb506fb6fb726d04d0c23c40c471c7bcd32"}, {"135": "90ba35dcfa4b1bdc84b2d7ac378b69c596826428"}, {"138": "f68ea40b9f2c20905efd4a70fb05d4f57dd5b57e"}, {"141": "954e3ba9a9396c72af294d2011a99cb18854b0b0"}, {"142": "3648f43a84332cb788b05ad7fbab73148321e713"}], "ctags": [{"_type": "tag", "name": "checkPortInUse", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^function checkPortInUse(p, h) {$/", "language": "JavaScript", "kind": "function", "signature": "(p, h)"}, {"_type": "tag", "name": "host", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^const host = '0.0.0.0'$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inUse", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^  const inUse = await checkPortInUse(port, host)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^const main = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ok", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^    const ok = await waitForReady(port, host, 60000)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^const port = Number(process.env.PORT || 3000)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ready", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^  let ready = false$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "spawnVite", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^function spawnVite(host, port) {$/", "language": "JavaScript", "kind": "function", "signature": "(host, port)"}, {"_type": "tag", "name": "terminateSignals", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^  const terminateSignals = ['SIGINT', 'SIGTERM', 'SIGHUP', 'SIGQUIT', 'SIGPIPE', 'SIGUSR1', 'SIG/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "waitForReady", "path": "/home/kavia/workspace/code-generation/samsung-tv-streaming-hub-40614-40623/tv_frontend/bin/start-dev.js", "pattern": "/^async function waitForReady(p, h, timeoutMs = 30000) {$/", "language": "JavaScript", "kind": "function", "signature": "(p, h, timeoutMs = 30000)"}], "hash": "2791f2305b561b9cacf061736eb11246", "format-version": 4, "code-base-name": "tv_frontend", "filename": "tv_frontend/bin/start-dev.js", "fields": [{"name": "let ready = false", "scope": "", "scopeKind": "", "description": "unavailable"}]}